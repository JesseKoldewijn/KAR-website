---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/layout/Navigation.astro';
import ParallaxHero from '../components/islands/ParallaxHero';
import Card from '../components/ui/Card.astro';
import Button from '../components/ui/Button.astro';
import { ROOMS } from '../lib/utils';
import { getConfigBySlug } from '../data/rooms/roomConfig.types';

const items = Object.entries(ROOMS).map(([slug, name]) => {
  const roomConfig = getConfigBySlug(slug);
  return {
    name,
    slug,
    thumbnailUrl: roomConfig?.thumbnailUrl || null,
  };
});
---

<Layout title="3D Render Gallery - Home">
  <Navigation />
  
  <div class="relative">
    <ParallaxHero 
      client:load 
      imageUrl="https://placehold.co/4000x4000/webp"
      title="3D Architectural Renders"
      subtitle="Explore stunning visualizations for every room"
    />

    <main class="container mx-auto px-4 py-16 bg-background -z-1">
      <section>
        <h2 class="text-4xl font-bold mb-8 text-center">Explore by Room</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {items.map(({ slug, name, thumbnailUrl }) => {
            return (
            <Card>
              {thumbnailUrl && <img 
                src={thumbnailUrl}
                alt={`${name} Room`} 
                class="w-full h-60 object-cover mb-4 rounded-t-lg"
              />}
              <div class="px-6 pb-6">
                <h3 class="text-2xl font-semibold mb-4">{name}</h3>
                <p class="text-muted-foreground mb-4">
                  Discover beautiful 3D renders for your {name.toLowerCase()}
                </p>
                <Button href={`/rooms/${slug}`} variant="outline">
                  View Gallery â†’
                </Button>
              </div>
            </Card>
          )
          })}
        </div>
      </section>
    </main>
  </div>
</Layout>

